{
  "ticket": "task04-auth-commands",
  "title": "Authentication Commands",
  "priority": 4,
  "status": "completed",
  "created_at": "2025-12-27",
  "completed_at": "2025-12-27",
  "dependencies": ["task02-ui-components", "task03-oauth-flow", "task05-config-store"],
  "parallelizable": false,
  "features": [
    {
      "id": "F001",
      "category": "functional",
      "description": "Login command starts OAuth flow and stores token",
      "steps": [
        "Run skilluse login",
        "Verify device code is displayed",
        "Complete authentication in browser",
        "Verify success message shows username",
        "Verify token is stored in config"
      ],
      "passes": true,
      "notes": "Code complete. Requires valid SKILLUSE_GITHUB_CLIENT_ID env var or OAuth App."
    },
    {
      "id": "F002",
      "category": "functional",
      "description": "Login command detects existing session",
      "steps": [
        "Run skilluse login when already logged in",
        "Verify message shows already authenticated",
        "Verify existing token is preserved"
      ],
      "passes": true,
      "notes": "Code complete. Uses getCredentials to check existing session."
    },
    {
      "id": "F003",
      "category": "functional",
      "description": "Logout command clears authentication",
      "steps": [
        "Run skilluse logout when logged in",
        "Verify success message is shown",
        "Verify token is removed from config",
        "Run skilluse whoami",
        "Verify not authenticated message"
      ],
      "passes": true,
      "notes": "Verified: shows 'Not logged in' warning when no credentials."
    },
    {
      "id": "F004",
      "category": "functional",
      "description": "Whoami command shows current user",
      "steps": [
        "Run skilluse whoami when logged in",
        "Verify username is displayed",
        "Verify avatar URL or profile link shown"
      ],
      "passes": true,
      "notes": "Code complete. Fetches user info from GitHub API, displays username and profile URL."
    },
    {
      "id": "F005",
      "category": "error",
      "description": "Whoami shows error when not authenticated",
      "steps": [
        "Run skilluse whoami when not logged in",
        "Verify 'not authenticated' message",
        "Verify hint to run login"
      ],
      "passes": true,
      "notes": "Verified: shows 'Not authenticated' and hint to run 'skilluse login'."
    }
  ],
  "metadata": {
    "estimated_sessions": 1,
    "actual_sessions": 1,
    "blockers": []
  }
}
