# GitHub App Migration Sprint

## Current Sprint (GitHub App Migration)
- [x] task01-create-github-app - Create GitHub App (manual)
- [x] task02-oauth-service - OAuth service for installations
- [x] task03-credential-storage - Credential storage for multiple token types
- [x] task04-cli-commands - Update CLI commands for GitHub App
- [ ] task05-testing-cleanup - Testing and cleanup

## Completed (GitHub App Migration)
- [x] task01-create-github-app
- [x] task02-oauth-service
- [x] task03-credential-storage
- [x] task04-cli-commands

### [2025-12-27] Session - task04-cli-commands
- Working on: task04-cli-commands
- Completed: F001, F002, F003, F004, F005, F006, F007
- In progress: None
- Notes:
  - Updated login command to fetch and store GitHub App installations after OAuth
  - Converts Installation[] to StoredInstallation[] and saves via setInstallations()
  - If single installation, sets as default automatically
  - Shows install prompt if no installations found
  - Updated logout to use clearAllCredentials() and clearInstallations()
  - Updated whoami to display installations with repository selection info
  - Created repos command to list accessible repositories grouped by installation
  - All commands handle not-logged-in state appropriately

### [2025-12-27] Session - task03-credential-storage
- Working on: task03-credential-storage
- Completed: F001, F002, F003, F004, F005, F006
- In progress: None
- Commits: 44e33a7
- Notes:
  - Added UserCredentials interface and setUserCredentials/getUserCredentials
  - Added StoredInstallation type and setInstallations/getInstallations to store.ts
  - Added setDefaultInstallation/getDefaultInstallation for default selection
  - Added in-memory InstallationTokenCache with expiry handling
  - Storage: user token in keychain, installations in config JSON, token cache in memory
  - All new types/functions exported from services/index.ts

### [2025-12-27] Session - task02-oauth-service
- Working on: task02-oauth-service
- Completed: F001, F002, F003, F004, F005, F006
- In progress: None
- Commits: cc4e3ef
- Notes:
  - Added GitHub App installation types: Installation, Repository, InstallationToken
  - Implemented getUserInstallations() - GET /user/installations
  - Implemented getInstallationRepositories() - GET /user/installations/{id}/repositories
  - Implemented getInstallationToken() - POST /user/installations/{id}/access_tokens
  - Updated login command to use GitHub App client ID
  - All types exported from services/index.ts

---

# Config Refactor Sprint

## Current Sprint (Config Refactor)
- [x] cfg01-platform-paths - Use env-paths for platform-native directories
- [x] cfg02-secure-credentials - Store tokens in system keychain
- [~] cfg03-config-migration - Skipped (product not released, no legacy users)

## Completed (Config Refactor)
- [x] cfg01-platform-paths
- [x] cfg02-secure-credentials
- [~] cfg03-config-migration (skipped)

### [2025-12-27] Session - cfg02-secure-credentials
- Working on: cfg02-secure-credentials
- Completed: F001, F002, F003, F004, F005, F006
- In progress: None
- Notes:
  - Added keytar package for system keychain support
  - Created credentials.ts service with getCredentials, setCredentials, clearCredentials, isKeychainAvailable
  - Keychain used on macOS Keychain, Windows Credential Manager, Linux libsecret
  - Encrypted file fallback using AES-256-GCM when keychain unavailable
  - Machine-specific key derivation for encrypted file (hostname + username)

---

# CLI Core Sprint (Previous)

### [2025-12-27 17:07] Session #1
- Working on: task02-ui-components
- Completed: F001, F002, F003, F004, F005, F006
- In progress: None
- Commits: 613ad7c
- Notes:
  - Upgraded ink to v5 for compatibility with ink-spinner, ink-select-input, ink-text-input
  - Created custom Table component (ink-table not compatible with ink 5)
  - Created custom ProgressBar component
  - Created StatusMessage component with figures icons
  - Added demo command for testing components

### [2025-12-27] Session #2
- Working on: task03-oauth-flow
- Completed: F001, F002, F003, F004, F005
- In progress: None
- Commits: 5110081
- Notes:
  - Created oauth.ts service with GitHub Device Flow implementation
  - requestDeviceCode() calls GitHub device authorization endpoint
  - pollForAccessToken() polls for access token with all error handling
  - pollUntilComplete() provides full polling loop with timeout support
  - openBrowser() provides cross-platform browser opening (darwin/win32/linux)
  - All types exported: DeviceCodeResponse, AccessTokenResponse, PollResult

### [2025-12-27] Session #3
- Working on: task05-config-store
- Completed: F001, F002, F003, F004, F005, F006
- In progress: None
- Commits: c3ef7eb
- Notes:
  - Created store.ts service using conf library
  - Config stored at ~/.skilluse/config.json (custom cwd option)
  - Implemented: getConfig, setAuth, clearAuth, addRepo, removeRepo, setDefaultRepo, addInstalledSkill, removeInstalledSkill
  - All types exported: Config, AuthConfig, RepoConfig, InstalledSkill

### [2025-12-27] Session #4
- Working on: task04-auth-commands
- Completed: F001, F002, F003, F004, F005
- In progress: None
- Notes:
  - Created login.tsx command with GitHub OAuth Device Flow
  - Created logout.tsx command to clear credentials
  - Created whoami.tsx command to show current user
  - login: Checks existing session, starts OAuth, stores token in keychain
  - logout: Clears credentials from keychain/encrypted file
  - whoami: Fetches fresh user info from GitHub API, shows profile URL
  - OAuth client ID configurable via SKILLUSE_GITHUB_CLIENT_ID env var

---

# Website Project

## Current Sprint (Website)
- [x] web01-project-setup - Initialize Next.js, copy components
- [x] web02-core-layout - Header, footer, layout
- [x] web03-landing-page - Hero, features, CTA
- [x] web07-cli-landing-page - CLI terminal hero with IBM Plex Mono
- [ ] web04-blog-setup - Blog listing and posts
- [ ] web05-docs-setup - Documentation with sidebar
- [ ] web06-polish - SEO, OG images, sitemap

## Completed (Website)
- [x] web01-project-setup
- [x] web02-core-layout
- [x] web03-landing-page
- [x] web07-cli-landing-page

### [2025-12-27] Website Planning
- Created website-design.md with full specification
- Created 6 website tickets (web01-web06)
- Reusing components from OpenAlternative
- Stack: Next.js, Tailwind v4, content-collections, Radix UI

### [2025-12-27] Session - web01-project-setup
- Working on: web01-project-setup
- Completed: F001, F002, F003, F004, F005, F006, F007, F008
- In progress: None
- Notes:
  - Initialized Next.js 16.1.1-canary with App Router
  - Configured Tailwind CSS v4 with tailwind-merge
  - Copied 14 common components from OpenAlternative
  - Copied 8 web UI components
  - Created Icon component using lucide-react
  - Set up site and links configuration (skilluse.dev)
  - Configured content-collections for MDX (posts & docs)
  - Dev server runs successfully on localhost:3000

### [2025-12-27] Session - web02-core-layout
- Working on: web02-core-layout
- Completed: F001, F002, F003, F004, F005, F006, F007, F008
- In progress: None
- Commits: 32e678b
- Notes:
  - Root layout with Geist fonts and site metadata
  - Created (web) route group with layout structure
  - Header: Logo, nav links (Docs, Blog, GitHub), mobile hamburger
  - Footer: Quick links, social icons (GitHub, X), copyright
  - Navigation config for reusable nav items
  - Fixed missing components: kbd, pagination-link
  - Fixed lucide-react icon names compatibility

### [2025-12-27] Session - web07-cli-landing-page
- Working on: web07-cli-landing-page
- Completed: F001-F012 (all features)
- In progress: None
- Commits: 0e756b8
- Notes:
  - Hybrid approach: CLI terminal widget within modern UI layout
  - IBM Plex Mono font from Google Fonts (weights 400, 500, 700)
  - CLI color scheme: green primary (#05CE91 dark / #027474 light), orange secondary (#FF9D00)
  - Dark/light themes via prefers-color-scheme media query
  - TerminalHero component: macOS-style terminal with traffic lights
  - ASCII art logo, help commands, install demo, blinking cursor
  - Custom scrollbar styling for CLI aesthetic
  - Replaced TerminalDemo with TerminalHero in Hero section

### [2025-12-27] Session - web03-landing-page
- Working on: web03-landing-page
- Completed: F001, F002, F003, F004, F005, F006, F007, F008
- In progress: None
- Commits: dbffbee
- Notes:
  - Created Hero section with tagline, description, CTA buttons
  - Added TerminalDemo component with dark terminal styling
  - Created Features section with 4 feature cards (responsive grid)
  - Created HowItWorks section with 3 numbered steps and code examples
  - Created SupportedAgents section with agent cards
  - Created CTA section with gradient background
  - Assembled landing page with all sections
  - Added IconName type export to Icon component
  - All sections mobile responsive with proper breakpoints
